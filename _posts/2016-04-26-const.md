---
layout: post
title: C언어 Const 키워드
categories: [dev]
tags: [C, const]
description: const 키워드는 그 위치에따라 의미가 달라지는데, 포스팅 수를 늘리고싶은 생각으로 가득차있기때문에 그냥 해봐야지.
comments: true
---

### 변수의 상수화
`const`는 대개 변수 선언부 앞에 붙여서 값의 수정을 제한할 목적으로 사용한다.   

```c
#include<stdio.h>
int main() {
	const int pi = 3.14;
	pi = 0; //에러

	return 0;
}
```

`const` 키워드가 붙은 변수는 초기화 된 후에는 변경이 불가능하며, 선언하면서 반드시 초기화 해야한다.

### 포인터와 const
포인터 변수의 경우는 `const` 키워드가 올 수 있는곳이 두가지가 있다. 하나는 일반 변수처럼 선언부 맨 앞이고, 다른하나는 변수명 바로 앞이다.  

```c
#include<stdio.h>

int main() {
	int a = 1;
	const int* p1 = &a; //첫번째
	int* const p2 = &a; //두번째
	
	p1 = NULL; //1번연산
	*p1 = 2;   //2번연산

	p2 = NULL; //3번연산
	*p2 = 2;   //4번연산

	return 0;	
}
```

첫번째 선언의 의미는 변경이 불가능한 `int`형을 가리키는 포인터를 선언한것이다. 따라서 1번 연산은 가능하지만, 2번연산은 거부당한다.

그와는 반대로 두번째 선언은 `int`형을 가리키는 변경이 불가능한 포인터를 선언한것이다. 말장난같지만 분명히 의미가 다르다. 이경우는 참조하는 메모리의 값을 변경하는 4번 연산은 허용되지만, 참조하는 위치 자체를 변경하는 3번연산은 거부된다.
선언부의 앞과, 변수명의 앞 두 위치에 모두 `const`를 사용할수 도 있는데, 이경우는 단순히 두 효과가 중첩되어 값도, 위치도 변경 할 수 없게된다.